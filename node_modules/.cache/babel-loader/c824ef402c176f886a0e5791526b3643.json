{"ast":null,"code":"export class GameController {\n  constructor(world) {\n    this.world = void 0;\n    this.player1 = null;\n    this.player2 = null;\n    this.lastTime = 0;\n    this.world = world;\n  }\n\n  setPlayer1(player) {\n    this.player1 = player;\n  }\n\n  setPlayer2(player) {\n    this.player2 = player;\n  }\n\n  run() {\n    const updateFrame = timestamp => {\n      var _this$player, _this$player2;\n\n      if (!this.lastTime) this.lastTime = timestamp;\n      (_this$player = this.player1) === null || _this$player === void 0 ? void 0 : _this$player.makeTurn();\n      (_this$player2 = this.player2) === null || _this$player2 === void 0 ? void 0 : _this$player2.makeTurn();\n      const elapsedTime = timestamp - this.lastTime;\n\n      if (elapsedTime > 250) {\n        this.world.update(1);\n        this.lastTime = timestamp;\n      }\n\n      requestAnimationFrame(updateFrame);\n    };\n\n    requestAnimationFrame(updateFrame);\n  }\n\n}","map":{"version":3,"sources":["/Users/roberttineo/Desktop/snake-game/src/GameController.ts"],"names":["GameController","constructor","world","player1","player2","lastTime","setPlayer1","player","setPlayer2","run","updateFrame","timestamp","makeTurn","elapsedTime","update","requestAnimationFrame"],"mappings":"AAGA,OAAO,MAAMA,cAAN,CAAqB;AAM1BC,EAAAA,WAAW,CAACC,KAAD,EAAoB;AAAA,SALvBA,KAKuB;AAAA,SAJvBC,OAIuB,GAJE,IAIF;AAAA,SAHvBC,OAGuB,GAHE,IAGF;AAAA,SAFvBC,QAEuB,GAFJ,CAEI;AAC7B,SAAKH,KAAL,GAAaA,KAAb;AACD;;AAEDI,EAAAA,UAAU,CAACC,MAAD,EAAuB;AAC/B,SAAKJ,OAAL,GAAeI,MAAf;AACD;;AAEDC,EAAAA,UAAU,CAACD,MAAD,EAAuB;AAC/B,SAAKH,OAAL,GAAeG,MAAf;AACD;;AAEDE,EAAAA,GAAG,GAAS;AACV,UAAMC,WAAW,GAAIC,SAAD,IAAuB;AAAA;;AACzC,UAAI,CAAC,KAAKN,QAAV,EAAoB,KAAKA,QAAL,GAAgBM,SAAhB;AAEpB,2BAAKR,OAAL,8DAAcS,QAAd;AACA,4BAAKR,OAAL,gEAAcQ,QAAd;AAEA,YAAMC,WAAW,GAAGF,SAAS,GAAG,KAAKN,QAArC;;AAEA,UAAIQ,WAAW,GAAG,GAAlB,EAAuB;AACrB,aAAKX,KAAL,CAAWY,MAAX,CAAkB,CAAlB;AACA,aAAKT,QAAL,GAAgBM,SAAhB;AACD;;AAEDI,MAAAA,qBAAqB,CAACL,WAAD,CAArB;AACD,KAdD;;AAgBAK,IAAAA,qBAAqB,CAACL,WAAD,CAArB;AACD;;AApCyB","sourcesContent":["import { WorldModel } from \"./WorldModel\";\nimport { Player } from \"./Player\";\n\nexport class GameController {\n  private world: WorldModel;\n  private player1: Player | null = null;\n  private player2: Player | null = null;\n  private lastTime: number = 0;\n\n  constructor(world: WorldModel) {\n    this.world = world;\n  }\n\n  setPlayer1(player: Player): void {\n    this.player1 = player;\n  }\n\n  setPlayer2(player: Player): void {\n    this.player2 = player;\n  }\n\n  run(): void {\n    const updateFrame = (timestamp: number) => {\n      if (!this.lastTime) this.lastTime = timestamp;\n\n      this.player1?.makeTurn();\n      this.player2?.makeTurn();\n\n      const elapsedTime = timestamp - this.lastTime;\n\n      if (elapsedTime > 250) {\n        this.world.update(1);\n        this.lastTime = timestamp;\n      }\n\n      requestAnimationFrame(updateFrame);\n    };\n\n    requestAnimationFrame(updateFrame);\n  }\n  updateFrame();\n}\n"]},"metadata":{},"sourceType":"module"}